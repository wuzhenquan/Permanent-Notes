<body>
  <div id="ball"></div>
  输入小球移动后的位置：<input id="pos" />
  <button id="moveBtn">开始移动</button>;
  <button id="cancelBtn">撤销</button>
</body>

<script>
  // input 框输入数字，button 让小球水平方向移动
  const Animate = function () {}; // Animate 代码 https://github.com/wuzhenquan/JavaScript-Practice/blob/master/%E4%B9%A6%E4%BE%8B/JavaScript%20%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%BC%80%E5%8F%91%E5%AE%9E%E8%B7%B5/05.4.3%20%E8%AE%A9%E5%B0%8F%E7%90%83%E8%BF%90%E5%8A%A8%E8%B5%B7%E6%9D%A5.html

  const ball = document.getElementById("ball");
  const pos = document.getElementById("pos");
  const moveBtn = document.getElementById("moveBtn");

  /* ------------------------- 编写命令类 ------------------------- */
  const MoveCommand = function (receiver, pos) {
    this.receiver = receiver;
    this.pos = pos;
    this.oldPos = null;
  };
  MoveCommand.prototype.execute = function () {
    this.receiver.start("left", this.pos, 1000, "strongEaseOut");
  };
  MoveCommand.prototype.undo = function () {
    this.receiver.start("left", this.oldPos, 1000, "strongEaseOut");
  };

  /* ------------------------- 安装命令 ------------------------- */
  let moveCommand;
  moveBtn.onclick = () => {
    const animateReceiver = new Animate();
    moveCommand = new MoveCommand(animateReceiver, pos.value);
    moveCommand.execute();
  };
  cancelBtn.onclick = () => {
    moveCommand.undo();
  };
</script>
