<body>
  选择颜色：<select id="colorSelect">
    <option value="">请选择</option>
    <option value="red">红色</option>
    <option value="blue">蓝色</option>
  </select>
  输入购买数量：<input type="text" id="numberInput" /> 您选择了颜色：
  <div id="colorInfo"></div>
  <br />
  您输入了数量：
  <div id="" numberInfo></div>
  <br />
  <button id="nextBtn" disabled="true">请选择手机颜色和购买数量</button>
</body>
<script>
  const goods = { red: 3, blue: 6 };

  const colorSelect = document.getElementById("colorSelect");
  const numberInput = document.getElementById("numberInput");
  const colorInfo = document.getElementById("colorInfo");
  const numberInfo = document.getElementById("numberInfo");
  const nextBtn = document.getElementById("nextBtn");

  colorSelect.onchange = function () {
    const color = this.value;
    const number = numberInput.value;
    const stock = goods[color];

    colorInfo.innerHTML = color;

    if (!color) {
      nextBtn.disabled = true;
      nextBtn.innerHTML = "请选择手机颜色";
      return;
    }

    // 用户输入的购买数量是否为正整数
    if (((number - 0) | 0) !== number - 0) {
      nextBtn.disabled = true;
      nextBtn.innerHTML = "请输入正确的购买数量";
      return;
    }

    // 当前选择数量没有超过库存数量
    if (number > stock) {
      nextBtn.disabled = true;
      nextBtn.innerHTML = "库存不足";
      return;
    }

    nextBtn.disabled = false;
    nextBtn.innerHTML = "放入购物车";
  };

  numberInput.oninput = function () {
    const color = colorSelect.value;
    const number = this.value;
    const stock = goods[color];

    colorInfo.innerHTML = color;

    if (!color) {
      nextBtn.disabled = true;
      nextBtn.innerHTML = "请选择手机颜色";
      return;
    }

    // 用户输入的购买数量是否为正整数
    if (((number - 0) | 0) !== number - 0) {
      nextBtn.disabled = true;
      nextBtn.innerHTML = "请输入正确的购买数量";
      return;
    }

    // 当前选择数量没有超过库存数量
    if (number > stock) {
      nextBtn.disabled = true;
      nextBtn.innerHTML = "库存不足";
      return;
    }

    nextBtn.disabled = false;
    nextBtn.innerHTML = "放入购物车";
  };
</script>
