<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        .canvas-container {
            border: 1px solid #999;
        }
    </style>
</head>

<body>
    <canvas id="c" width="300" height="300" class="canvas-container"></canvas>
    <script src="fabric.js"></script>
    <script>
        var Book = (function () {
            //静态私有变量和方法
            var bookNum = 0;
            function checkName() {}
            function _book(id, name, price) {
                if (this instanceof Book) {
                    //私有属性
                    var num = 1;
                    //私有方法
                    function checkId() {
                    }
                    //特权方法
                    this.getName = function () {};
                    this.getPrice = function () {};
                    this.setName = function (name) {};
                    this.setPrice = function (price) {};
                    //对象公有属性
                    this.id = id;
                    this.books = ['css', 'html', 'Js'];
                    //对象公有方法
                    this.copy = function () {};
                    bookNum += num;
                    console.log(bookNum);
                    //构造器
                    this.setName(name);
                    this.setPrice(price);
                } else {
                    return new Book(id, name, price);
                }
            }
            _book.prototype = {
                constructor: Book,
                //公有属性和方法
                isJSBook: false,
                we: [12, 30, 58],
                display: function () {}
            };
            return _book;
        })();

        function Child(id, name, price) {
            Book.call(this, id, name, price);
            this.name = 'child';
        }
        function inherit(subClass, superClass) {
            var prototype = Object.create(superClass.prototype);
            // var prototype = Object.create(superClass.prototype);
            prototype.constructor = subClass;
            subClass.prototype = prototype;
        }
        inherit(Child, Book);
        var book1 = new Child(11, 'JavaScript', 50);
        var book2 = new Child(12, 'css', 40);
        book1.books.push('Java');
        console.log(book2.books, book1 instanceof Book, book1 instanceof Child, Book.prototype.isPrototypeOf(book1));
        console.log(book1.books);
    </script>
</body>

</html>
