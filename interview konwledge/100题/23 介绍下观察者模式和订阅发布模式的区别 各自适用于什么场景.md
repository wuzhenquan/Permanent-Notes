https://github.com/Advanced-Frontend/Daily-Interview-Question/issddsdfasues/25

## 观察者模式（Observer Pattern）

```js
var subject = {
	observers: [],
	notify() {
		this.observers.forEach(observer =>{
			observer.update()
		})
	},
	attach (observer) {
		this.observers.push(observer)
	}
}
var observer = {
	update(){
		alert('updated')
	}
}
subject.attach(observer)
subject.notify()
```

## 发布/订阅模式

```js
var subject = {
	observers: [],
	notify() {
		this.observers.forEach(observer =>{
			observer.update()
		})
	},
	attach (observer) {
		this.observers.push(observer)
	}
}
var observer = {
	update(){
		alert('updated')
	}
}
subject.attach(observer)
subject.notify()
```

## 区别

观察者模式和发布订阅模式都有观察者和发布这两个对象

观察者模式没有中介，发布者和订阅者必须知道对方的存在

发布订阅模式有中介，发布者和订阅者不需要知道对方是谁，只要通过中介进行信息的传递和过滤就可以了

有没有中介是最大的不同

信息中介其实就是一个过滤器，它集合了一些有着共同特点的订阅者，而且过滤器可以有多个

## 适用场景

发布-订阅模式适合更复杂的场景。

在「一对多」的场景下，发布者的某次更新只想通知它的部分订阅者？

在「多对一」或者「多对多」场景下。一个订阅者依赖于多个发布者，某个发布者更新后是否需要通知订阅者？还是等所有发布者都更新完毕再通知订阅者？